#!/usr/bin/env python3
# -----------------------------------------------------------------------------
# imports
# -----------------------------------------------------------------------------
from sys          import argv
from kernel.angel import Angel
from decorators   import git_process
# -----------------------------------------------------------------------------
# process
# -----------------------------------------------------------------------------
@git_process
class MyAngel(Angel):
    def _pipeline(self):
        # ---------------------------------------------------------
        # build
        # ---------------------------------------------------------
        @self.gate('build')
        def build(self, data):
            print("build")
            return data
        # ---------------------------------------------------------
        # test
        # ---------------------------------------------------------
        @self.gate('test')
        def test(self, data):
            print("test")
            return data
        # ---------------------------------------------------------
        # report
        # ---------------------------------------------------------
        @self.gate('report')
        #@gate.markdown
        def report(self, data):
            print("report")
            return data
# -----------------------------------------------------------------------------
# main
# -----------------------------------------------------------------------------
if __name__ == '__main__':
    MyAngel(argv[1]).run()